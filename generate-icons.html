<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Icon Generator</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
      }
      button {
        padding: 15px 30px;
        font-size: 16px;
        background: #2196f3;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 10px 0;
      }
      button:hover {
        background: #1976d2;
      }
      .preview {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
      }
      .icon-preview {
        text-align: center;
      }
      canvas {
        border: 1px solid #ddd;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <h1>PWA Icon Generator</h1>
    <p>Click the button below to generate all required icons for your PWA.</p>
    <button onclick="generateIcons()">Generate Icons</button>
    <div id="preview" class="preview"></div>

    <script>
      const sizes = [72, 96, 128, 144, 152, 167, 180, 192, 384, 512];

      function generateIcons() {
        const preview = document.getElementById('preview');
        preview.innerHTML = '';

        sizes.forEach((size) => {
          const canvas = document.createElement('canvas');
          canvas.width = size;
          canvas.height = size;
          const ctx = canvas.getContext('2d');

          // Create gradient background
          const gradient = ctx.createLinearGradient(0, 0, size, size);
          gradient.addColorStop(0, '#2196F3');
          gradient.addColorStop(1, '#1976D2');
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, size, size);

          // Add rounded corners
          ctx.globalCompositeOperation = 'destination-in';
          ctx.beginPath();
          const radius = size * 0.15;
          ctx.moveTo(radius, 0);
          ctx.lineTo(size - radius, 0);
          ctx.quadraticCurveTo(size, 0, size, radius);
          ctx.lineTo(size, size - radius);
          ctx.quadraticCurveTo(size, size, size - radius, size);
          ctx.lineTo(radius, size);
          ctx.quadraticCurveTo(0, size, 0, size - radius);
          ctx.lineTo(0, radius);
          ctx.quadraticCurveTo(0, 0, radius, 0);
          ctx.closePath();
          ctx.fill();

          // Reset composite operation
          ctx.globalCompositeOperation = 'source-over';

          // Add text/icon
          ctx.fillStyle = 'white';
          ctx.font = `bold ${size * 0.4}px Arial`;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText('PWA', size / 2, size / 2);

          // Create preview
          const div = document.createElement('div');
          div.className = 'icon-preview';
          div.innerHTML = `<div>${size}x${size}</div>`;
          div.appendChild(canvas);

          // Add download link
          const link = document.createElement('a');
          link.download = `icon-${size}.png`;
          link.href = canvas.toDataURL();
          link.textContent = 'Download';
          link.style.display = 'block';
          div.appendChild(link);

          preview.appendChild(div);
        });
      }
    </script>
  </body>
</html>
